// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
import { BaseRequestPolicy, } from "@azure/core-http";
const API_KEY_HEADER_NAME = "Ocp-Apim-Subscription-Key";
/**
 * Create an HTTP pipeline policy to authenticate a request
 * using an `AzureKeyCredential` for Azure Anomaly Detector
 */
export function createAnomalyDetectorAzureKeyCredentialPolicy(credential) {
    return {
        create: (nextPolicy, options) => {
            return new AnomalyDetectorAzureKeyCredentialPolicy(nextPolicy, options, credential);
        },
    };
}
/**
 * A concrete implementation of an AzureKeyCredential policy
 * using the appropriate header for Azure Anomaly Detector
 */
class AnomalyDetectorAzureKeyCredentialPolicy extends BaseRequestPolicy {
    constructor(nextPolicy, options, credential) {
        super(nextPolicy, options);
        this.credential = credential;
    }
    async sendRequest(webResource) {
        webResource.headers.set(API_KEY_HEADER_NAME, this.credential.key);
        return this._nextPolicy.sendRequest(webResource);
    }
}
//# sourceMappingURL=azureKeyCredentialPolicy.js.map